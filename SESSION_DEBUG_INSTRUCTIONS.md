# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ –ø—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Å—Å–∏—è–º–∏

## –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –≤—Ö–æ–¥–µ –≤ –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ "Active Sessions" –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è "–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π", —Ö–æ—Ç—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω.

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ
–î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
- ‚úÖ –§—Ä–æ–Ω—Ç–µ–Ω–¥: `client/hooks/useSecurity.ts` - –ª–æ–≥–∏ API –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –ë—ç–∫–µ–Ω–¥: `custom-backend/internal/api/auth.go` - –ª–æ–≥–∏ GetSessions endpoint

## –®–∞–≥–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### 1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±—ç–∫–µ–Ω–¥ —Å –Ω–æ–≤—ã–º–∏ –ª–æ–≥–∞–º–∏

```bash
cd custom-backend
go run cmd/server/main.go
```

–ë—ç–∫–µ–Ω–¥ –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –Ω–∞ –ø–æ—Ä—Ç—É 8080 (–∏–ª–∏ —Å–æ–≥–ª–∞—Å–Ω–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏).

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (–≤ –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
npm run dev
# –∏–ª–∏
pnpm dev
```

–§—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –Ω–∞ `http://localhost:5173` –∏–ª–∏ –¥—Ä—É–≥–æ–º –ø–æ—Ä—Ç—É.

### 3. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä

1. –û—Ç–∫—Ä–æ–π—Ç–µ Chrome DevTools (F12 –∏–ª–∏ Cmd+Option+I –Ω–∞ Mac)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Console**
3. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

### 4. –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç

–ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —Å –≤–∞—à–∏–º–∏ —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

### 5. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Settings ‚Üí Security ‚Üí Active Sessions

–û—Ç–∫—Ä–æ–π—Ç–µ —Ä–∞–∑–¥–µ–ª —Å –∞–∫—Ç–∏–≤–Ω—ã–º–∏ —Å–µ—Å—Å–∏—è–º–∏.

### 6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏

#### –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (Chrome DevTools) –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:

```
üì° [SESSIONS] API response: {...}
üì° [SESSIONS] Sessions array: [...]
üì° [SESSIONS] Sessions count: X
```

#### –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –±—ç–∫–µ–Ω–¥–∞ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:

```
üì° [GET_SESSIONS] Request from user: <user-id>
üì° [GET_SESSIONS] Current session ID: <session-id>
üì° [GET_SESSIONS] Found X sessions in database
üì° [GET_SESSIONS] Session 1: ID=..., Browser=..., OS=..., IP=..., ExpiresAt=..., IsActive=...
‚úÖ [GET_SESSIONS] Returning X sessions to client
```

### 7. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –ª–æ–≥–∏

**–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:**

1. **–õ–æ–≥–∏ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞** (–≤—Å–µ —Å—Ç—Ä–æ–∫–∏ —Å `[SESSIONS]`)
2. **–õ–æ–≥–∏ –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –±—ç–∫–µ–Ω–¥–∞** (–≤—Å–µ —Å—Ç—Ä–æ–∫–∏ —Å `[GET_SESSIONS]`)
3. **–¢–∞–∫–∂–µ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏ –≤—Ö–æ–¥–µ** (—Å—Ç—Ä–æ–∫–∏ —Å `[LOGIN]` –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏)

## –í–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤
**–õ–æ–≥–∏ –±—Ä–∞—É–∑–µ—Ä–∞:**
```
üì° [SESSIONS] Sessions count: 0
```

**–ü—Ä–∏—á–∏–Ω–∞:** –°–µ—Å—Å–∏–∏ –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–∏ –ª–æ–≥–∏–Ω–µ –∏–ª–∏ —É–¥–∞–ª—è—é—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è.

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Å—Å–∏–∏ –ø—Ä–∏ –≤—Ö–æ–¥–µ.

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É
**–õ–æ–≥–∏ –±—Ä–∞—É–∑–µ—Ä–∞:**
```
‚ùå [SESSIONS] API error: 401 Unauthorized
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–æ–±–ª–µ–º–∞ —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –∏–ª–∏ —Ç–æ–∫–µ–Ω–∞–º–∏.

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ access_token –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö.

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –°–µ—Å—Å–∏–∏ –µ—Å—Ç—å, –Ω–æ –∏—Å—Ç–µ–∫ —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è
**–õ–æ–≥–∏ –±—ç–∫–µ–Ω–¥–∞:**
```
üì° [GET_SESSIONS] Found 0 sessions in database
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ó–∞–ø—Ä–æ—Å —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Å–µ—Å—Å–∏–∏ –ø–æ `expires_at > NOW()`, –≤—Å–µ —Å–µ—Å—Å–∏–∏ –º–æ–≥–ª–∏ –∏—Å—Ç–µ—á—å.

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –∂–∏–∑–Ω–∏ refresh token.

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –°–µ—Å—Å–∏–∏ –µ—Å—Ç—å –≤ –ë–î, –Ω–æ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
**–õ–æ–≥–∏ –±—ç–∫–µ–Ω–¥–∞:**
```
üì° [GET_SESSIONS] Found 1 sessions in database
üì° [GET_SESSIONS] Session 1: ID=..., Browser=Chrome, OS=macOS, ...
```

**–õ–æ–≥–∏ –±—Ä–∞—É–∑–µ—Ä–∞:**
```
üì° [SESSIONS] Sessions count: 0
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–æ–±–ª–µ–º–∞ —Å –º–∞–ø–ø–∏–Ω–≥–æ–º –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ —Ñ–æ—Ä–º–∞—Ç–æ–º –æ—Ç–≤–µ—Ç–∞ API.

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É Session model –∏ JSON serialization.

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –ø—Ä–∏ –ª–æ–≥–∏–Ω–µ

–ü—Ä–∏ –≤—Ö–æ–¥–µ –≤ –∞–∫–∫–∞—É–Ω—Ç –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –±—ç–∫–µ–Ω–¥–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏:

```
üîê Creating session for user: <email>
‚úÖ Session created: <session-id>
```

–ï—Å–ª–∏ —ç—Ç–∏—Ö –ª–æ–≥–æ–≤ –Ω–µ—Ç - –ø—Ä–æ–±–ª–µ–º–∞ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Å—Å–∏–∏.

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É sessions –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

–ï—Å–ª–∏ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö (TablePlus, psql):

```sql
SELECT id, user_id, browser, os, ip_address, expires_at, is_active, created_at
FROM sessions
WHERE user_id = '<–≤–∞—à-user-id>'
ORDER BY created_at DESC
LIMIT 5;
```

–≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç, –µ—Å—Ç—å –ª–∏ –≤–æ–æ–±—â–µ —Å–µ—Å—Å–∏–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤–∞—à–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –ª–æ–≥–æ–≤ –º—ã —Å–º–æ–∂–µ–º:
1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–æ—á–Ω—É—é –ø—Ä–∏—á–∏–Ω—É –ø—Ä–æ–±–ª–µ–º—ã
2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ

---

**–í–∞–∂–Ω–æ:** –û—Ç–ø—Ä–∞–≤—å—Ç–µ –≤—Å–µ —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞!
