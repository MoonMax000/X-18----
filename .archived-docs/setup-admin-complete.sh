#!/bin/bash

# –ú–∞—Å—Ç–µ—Ä-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–ª–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ admin
# –í—ã–ø–æ–ª–Ω—è–µ—Ç –º–∏–≥—Ä–∞—Ü–∏—é 007 –∏ –Ω–∞–∑–Ω–∞—á–∞–µ—Ç —Ä–æ–ª—å admin

echo "üöÄ –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∞–¥–º–∏–Ω–∞"
echo "=============================================="
echo ""

# –¶–≤–µ—Ç–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m' # No Color

# –®–∞–≥ 1: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ 007
echo "üìã –®–∞–≥ 1/2: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ 007..."
echo ""

if [ -f "./apply-migration-007.sh" ]; then
    chmod +x ./apply-migration-007.sh
    ./apply-migration-007.sh
    
    if [ $? -ne 0 ]; then
        echo -e "${RED}‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ –º–∏–≥—Ä–∞—Ü–∏–∏${NC}"
        exit 1
    fi
else
    echo -e "${RED}‚ùå –§–∞–π–ª apply-migration-007.sh –Ω–µ –Ω–∞–π–¥–µ–Ω${NC}"
    exit 1
fi

echo ""
echo "=============================================="
echo ""

# –®–∞–≥ 2: –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–∏ admin
echo "üìã –®–∞–≥ 2/2: –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞..."
echo ""

if [ -f "./setup-admin-role.sh" ]; then
    chmod +x ./setup-admin-role.sh
    ./setup-admin-role.sh
    
    if [ $? -ne 0 ]; then
        echo -e "${RED}‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏ —Ä–æ–ª–∏ –∞–¥–º–∏–Ω–∞${NC}"
        exit 1
    fi
else
    echo -e "${RED}‚ùå –§–∞–π–ª setup-admin-role.sh –Ω–µ –Ω–∞–π–¥–µ–Ω${NC}"
    exit 1
fi

echo ""
echo "=============================================="
echo ""
echo -e "${GREEN}‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!${NC}"
echo ""
echo "üìù –ß—Ç–æ –¥–∞–ª—å—à–µ:"
echo ""
echo "1. –ü–µ—Ä–µ–∑–∞–π–¥–∏—Ç–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–≤—ã–π–¥–∏—Ç–µ –∏ –≤–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞)"
echo "   URL: https://social.tyriantrade.com"
echo ""
echo "2. –û—Ç–∫—Ä–æ–π—Ç–µ —á—É–∂–æ–π –ø–æ—Å—Ç"
echo ""
echo "3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Ç—Ä–∏ —Ç–æ—á–∫–∏ (‚ãÆ) –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É –ø–æ—Å—Ç–∞"
echo ""
echo "4. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –∫–Ω–æ–ø–∫—É '–£–¥–∞–ª–∏—Ç—å (admin)' –∫—Ä–∞—Å–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞"
echo ""
echo "5. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –ø–æ—Å—Ç –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω (–¥–∞–∂–µ –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ –≤–∞—à –ø–æ—Å—Ç)"
echo ""
echo -e "${YELLOW}‚ö†Ô∏è  –í–∞–∂–Ω–æ:${NC}"
echo "  - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ"
echo "  - Backend –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–æ–ª—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ"
echo "  - –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ"
echo ""
echo "üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: ADMIN_DELETE_FUNCTIONALITY_COMPLETE.md"
echo ""
