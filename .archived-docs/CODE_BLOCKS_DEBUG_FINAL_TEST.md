# –§–∏–Ω–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞ –±–ª–æ–∫–æ–≤ –∫–æ–¥–∞ - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

## üîç –ß—Ç–æ –º—ã –∏—â–µ–º

–ú—ã –¥–æ–±–∞–≤–∏–ª–∏ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å—Ç–∞ —Å –±–ª–æ–∫–∞–º–∏ –∫–æ–¥–∞, —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏, –≥–¥–µ –∏–º–µ–Ω–Ω–æ —Ç–µ—Ä—è—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ.

## üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ù–∞–∂–º–∏—Ç–µ `F12` –∏–ª–∏ `Cmd+Option+I` (Mac) / `Ctrl+Shift+I` (Windows/Linux)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Console**

### –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ –ø–æ—Å—Ç —Å –±–ª–æ–∫–æ–º –∫–æ–¥–∞

1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Create Post" –∏–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å—Ç–∞
2. –í–≤–µ–¥–∏—Ç–µ –ª—é–±–æ–π —Ç–µ–∫—Å—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä: "Test post with code")
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **`</>`** (Code Block)
4. –í –æ—Ç–∫—Ä—ã–≤—à–µ–º—Å—è –æ–∫–Ω–µ:
   - –í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, JavaScript)
   - –í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥:
     ```javascript
     console.log("Hello, World!");
     const x = 42;
     ```
5. –ù–∞–∂–º–∏—Ç–µ **"Insert Code"**
6. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–ª–æ–∫ –∫–æ–¥–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ preview
7. –ù–∞–∂–º–∏—Ç–µ **"Post"**

### –®–∞–≥ 3: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ª–æ–≥–∏

–í –∫–æ–Ω—Å–æ–ª–∏ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –ª–æ–≥–∏ –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ:

```
[CodeBlockModal] Inserting code block: { language: "javascript", codeLength: 45, code: "..." }
[useSimpleComposer - insertCodeBlock] Adding code block: { id: "code-...", language: "javascript", codeLength: 45 }
[useSimpleComposer - insertCodeBlock] Updated codeBlocks: { previousLength: 0, newLength: 1, allBlocks: [...] }
[CreatePostModal - handlePost START] codeBlocks state: { codeBlocks: [...], length: 1, isEmpty: false, items: [...] }
[CreatePostModal] Added code blocks to metadata: { count: 1, codeBlocks: [...] }
[CreatePostModal] Creating post with payload: { content: "...", metadata: { code_blocks: [...], ... }, ... }
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–í–ê–ñ–ù–û:** –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –í–°–ï –ª–æ–≥–∏ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏, –æ—Å–æ–±–µ–Ω–Ω–æ:
- –õ–æ–≥ `[CreatePostModal - handlePost START]` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ codeBlocks
- –õ–æ–≥ `[CreatePostModal] Creating post with payload` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω—ã–π payload

## üîé –ß—Ç–æ –º—ã –ø—Ä–æ–≤–µ—Ä—è–µ–º

### –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

1. **CodeBlockModal** –¥–æ–ª–∂–µ–Ω –≤—ã–∑–≤–∞—Ç—å `onInsert` —Å –∫–æ–¥–æ–º
2. **useSimpleComposer** –¥–æ–ª–∂–µ–Ω –¥–æ–±–∞–≤–∏—Ç—å –±–ª–æ–∫ –≤ state
3. **CreatePostModal** –¥–æ–ª–∂–µ–Ω —É–≤–∏–¥–µ—Ç—å —ç—Ç–æ—Ç –±–ª–æ–∫ –≤ `codeBlocks` array
4. **Payload** –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å `metadata.code_blocks`

### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### –ü—Ä–æ–±–ª–µ–º–∞ 1: codeBlocks –ø—É—Å—Ç–æ–π –≤ handlePost
```javascript
[CreatePostModal - handlePost START] codeBlocks state: { length: 0, isEmpty: true }
```
**–û–∑–Ω–∞—á–∞–µ—Ç**: –ë–ª–æ–∫ –Ω–µ –¥–æ–±–∞–≤–∏–ª—Å—è –≤ state —Ö—É–∫–∞ –∏–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å React state

#### –ü—Ä–æ–±–ª–µ–º–∞ 2: codeBlocks –µ—Å—Ç—å, –Ω–æ –Ω–µ –ø–æ–ø–∞–ª –≤ metadata
```javascript
[CreatePostModal - handlePost START] codeBlocks state: { length: 1, isEmpty: false }
// –ù–û –Ω–µ—Ç –ª–æ–≥–∞: [CreatePostModal] Added code blocks to metadata
```
**–û–∑–Ω–∞—á–∞–µ—Ç**: –£—Å–ª–æ–≤–∏–µ `if (codeBlocks.length > 0)` –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ

#### –ü—Ä–æ–±–ª–µ–º–∞ 3: metadata –µ—Å—Ç—å, –Ω–æ –Ω–µ –≤ payload
```javascript
[CreatePostModal] Added code blocks to metadata: { count: 1 }
// –ù–û –≤ payload:
[CreatePostModal] Creating post with payload: { metadata: { /* –Ω–µ—Ç code_blocks */ } }
```
**–û–∑–Ω–∞—á–∞–µ—Ç**: –ß—Ç–æ-—Ç–æ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–ª–æ metadata –º–µ–∂–¥—É —Å–æ–∑–¥–∞–Ω–∏–µ–º –∏ –æ—Ç–ø—Ä–∞–≤–∫–æ–π

## üìä Backend –ª–æ–≥–∏

Backend —Ç–∞–∫–∂–µ –ª–æ–≥–∏—Ä—É–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã. –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å—Ç–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ terminal –≥–¥–µ –∑–∞–ø—É—â–µ–Ω backend:

```bash
tail -f custom-backend.log
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
[CreatePost] Received request
[CreatePost] Request body: ...
[CreatePost] Metadata: map[code_blocks:[...] ...]
```

## üéØ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

–ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ:

1. **–°–∫—Ä–∏–Ω—à–æ—Ç –∫–æ–Ω—Å–æ–ª–∏** —Å –ª–æ–≥–∞–º–∏
2. **Backend –ª–æ–≥–∏** –∏–∑ terminal
3. **–û–ø–∏—Å–∞–Ω–∏–µ**: –≤–∏–¥–µ–ª–∏ –ª–∏ –≤—ã –±–ª–æ–∫ –∫–æ–¥–∞ –≤ preview –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π?

–≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç —Ç–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –Ω–∞ –∫–∞–∫–æ–º —ç—Ç–∞–ø–µ —Ç–µ—Ä—è—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ.

## üõ†Ô∏è –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ –æ—Ç–ª–∞–¥–∫–∏

–ï—Å–ª–∏ –∫–æ–Ω—Å–æ–ª—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞, –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å backend –Ω–∞–ø—Ä—è–º—É—é:

```bash
