# üéâ Stripe Connect Marketplace - –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è!

**–ú–æ–¥–µ–ª—å:** Marketplace (–∫–∞–∫ Gumroad, Patreon)  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Backend –≥–æ—Ç–æ–≤, Frontend –≥–æ—Ç–æ–≤  
**–î–∞—Ç–∞:** –¢–æ–ª—å–∫–æ —á—Ç–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### **–ö–æ–Ω—Ü–µ–ø—Ü–∏—è:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ     Tyrian Trade (Master Stripe Account)        ‚îÇ
‚îÇ         –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –ø–ª–∞—Ç–µ–∂–∏          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ                       ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îê            ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ –ê–≤—Ç–æ—Ä—ã ‚îÇ            ‚îÇ –ü–æ–∫—É–ø–∞—Ç–µ–ª–∏‚îÇ
    ‚îÇ(Connect‚îÇ            ‚îÇ(Customers)‚îÇ
    ‚îÇAccount)‚îÇ            ‚îÇ           ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ                       ‚îÇ
   –ü–æ–ª—É—á–∞—é—Ç 90%             –ü–ª–∞—Ç—è—Ç 100%
   –æ—Ç –ø—Ä–æ–¥–∞–∂–∏               –∑–∞ –∫–æ–Ω—Ç–µ–Ω—Ç
        ‚îÇ                       ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚îÇ
              –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞
           –±–µ—Ä–µ—Ç 10% –∫–æ–º–∏—Å—Å–∏—é
```

---

## üìä Database Schema

### **–ù–æ–≤—ã–µ –º–æ–¥–µ–ª–∏:**

#### 1. **StripeConnectAccount** (–¥–ª—è –∞–≤—Ç–æ—Ä–æ–≤)
```prisma
model StripeConnectAccount {
  id              String  @id
  userId          String  @unique
  stripeAccountId String  @unique  // Connect Account ID
  
  // Account details
  email           String?
  country         String?
  defaultCurrency String?
  
  // Capabilities
  chargesEnabled  Boolean  // Can accept payments
  payoutsEnabled  Boolean  // Can receive payouts
  detailsSubmitted Boolean // Setup complete
  
  // OAuth tokens
  accessToken     String?
  refreshToken    String?
  
  createdAt       DateTime
  updatedAt       DateTime
}
```

#### 2. **StripeCustomer** (–¥–ª—è –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π)
```prisma
model StripeCustomer {
  id                      String  @id
  userId                  String  @unique
  stripeCustomerId        String  @unique  // Customer ID
  defaultPaymentMethodId  String?  // Default card
  
  // Relations
  paymentMethods          PaymentMethod[]
}
```

#### 3. **PaymentMethod** (–∫–∞—Ä—Ç—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π)
```prisma
model PaymentMethod {
  id              String  @id
  paymentMethodId String  @unique  // Stripe Payment Method ID
  
  // Card details
  type            String   // card, bank_account
  brand           String?  // visa, mastercard
  last4           String?
  expMonth        Int?
  expYear         Int?
  isDefault       Boolean
}
```

---

## üîå Backend API

### **Stripe Connect Routes** (`/api/v1/stripe-connect`)

```typescript
GET    /oauth-url           // Get Stripe OAuth URL –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
POST   /callback            // Handle OAuth redirect
GET    /account             // Get connected account status
DELETE /account             // Disconnect account
GET    /dashboard-link      // Get Stripe dashboard link
GET    /balance             // Get account balance
```

### **Payment Methods Routes** (`/api/v1/payment-methods`)

```typescript
POST   /setup-intent        // Create Setup Intent –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç—ã
POST   /                    // Add payment method
GET    /                    // List payment methods
DELETE /:id                 // Remove payment method
PUT    /:id/default         // Set default card
```

---

## üé® Frontend Components

### **1. StripeConnectSettings.tsx**

**–ü—É—Ç—å:** `client/components/Monetization/StripeConnectSettings.tsx`

**–î–ª—è –∞–≤—Ç–æ—Ä–æ–≤** (–ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞):

**–§—É–Ω–∫—Ü–∏–∏:**
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "Connect with Stripe" ‚Üí OAuth flow
- ‚úÖ –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (Charges, Payouts, Details)
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "Open Dashboard" ‚Üí Stripe dashboard
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "Disconnect"
- ‚úÖ Platform fee –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (10%)

**–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤:** `/profile?tab=social&subtab=monetization`

---

### **2. PaymentMethodsSettings.tsx** (TODO)

**–î–ª—è –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π:**

**–§—É–Ω–∫—Ü–∏–∏** (–Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å):
- Add Card (Stripe Elements)
- List Cards
- Set Default Card
- Delete Card

**–ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è –≤:** `/profile?tab=profile&subtab=billing`

---

## üîÑ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–ª–∞—Ç–µ–∂–∏

### **–°—Ü–µ–Ω–∞—Ä–∏–π: –ü–æ–∫—É–ø–∫–∞ premium –ø–æ—Å—Ç–∞ –∑–∞ $10**

```typescript
// 1. Backend —Å–æ–∑–¥–∞–µ—Ç Payment Intent
const paymentIntent = await stripeConnectService.createPaymentIntent({
  authorUserId: 'author_123',      // –ö—Ç–æ –ø–æ–ª—É—á–∞–µ—Ç –¥–µ–Ω—å–≥–∏
  buyerCustomerId: 'cus_buyer',    // –ö—Ç–æ –ø–ª–∞—Ç–∏—Ç
  amount: 1000,                     // $10 (–≤ —Ü–µ–Ω—Ç–∞—Ö)
  platformFeePercent: 10,           // 10% –∫–æ–º–∏—Å—Å–∏—è
});

// –†–µ–∑—É–ª—å—Ç–∞—Ç:
// - –ü–æ–∫—É–ø–∞—Ç–µ–ª—å –ø–ª–∞—Ç–∏—Ç $10
// - –ê–≤—Ç–æ—Ä –ø–æ–ª—É—á–∞–µ—Ç $9 (90%)
// - –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø–æ–ª—É—á–∞–µ—Ç $1 (10%)
```

### **–°—Ü–µ–Ω–∞—Ä–∏–π: –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∞–≤—Ç–æ—Ä–∞ ($19.99/month)**

```typescript
// 1. –°–æ–∑–¥–∞–µ–º Subscription
const subscription = await stripeConnectService.createSubscription({
  authorUserId: 'author_123',
  buyerCustomerId: 'cus_buyer',
  priceId: 'price_monthly_1999',  // Stripe Price ID
  platformFeePercent: 10,
});

// –†–µ–∑—É–ª—å—Ç–∞—Ç:
// - –ö–∞–∂–¥—ã–π –º–µ—Å—è—Ü $19.99 —Å–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —Å –ø–æ–∫—É–ø–∞—Ç–µ–ª—è
// - –ê–≤—Ç–æ—Ä –ø–æ–ª—É—á–∞–µ—Ç $17.99 (90%)
// - –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø–æ–ª—É—á–∞–µ—Ç $2.00 (10%)
```

---

## üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Backend

### **1. –ü–æ–ª—É—á–∏—Ç—å Stripe Keys**

–ó–∞–π–¥–∏ –Ω–∞ https://dashboard.stripe.com –∏ —Å–æ–∑–¥–∞–π Connect application:

1. **Settings ‚Üí Connect ‚Üí Overview**
2. –ù–∞–∂–º–∏ "Get started with Connect"
3. –°–∫–æ–ø–∏—Ä—É–π:
   - **Client ID:** `ca_...`
   - **Secret Key:** `sk_test_...` –∏–ª–∏ `sk_live_...`
   - **Publishable Key:** `pk_test_...` –∏–ª–∏ `pk_live_...`

### **2. –û–±–Ω–æ–≤–∏ `.env`**

```env
# Master Stripe Account (—Ç–≤–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç)
STRIPE_SECRET_KEY="sk_test_..."
STRIPE_PUBLISHABLE_KEY="pk_test_..."
STRIPE_CLIENT_ID="ca_..."
STRIPE_WEBHOOK_SECRET="whsec_..."

# Frontend URL (–¥–ª—è OAuth redirect)
FRONTEND_URL="http://localhost:8080"
```

### **3. –ù–∞—Å—Ç—Ä–æ–π OAuth Redirect**

–í Stripe Dashboard:
1. **Settings ‚Üí Connect ‚Üí Integration**
2. **Redirect URIs:**
   - Development: `http://localhost:8080/profile?tab=social&subtab=monetization`
   - Production: `https://yourapp.com/profile?tab=social&subtab=monetization`

### **4. Webhooks** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ù–∞—Å—Ç—Ä–æ–π webhooks –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π:
- `account.updated` - –ö–æ–≥–¥–∞ —Å—Ç–∞—Ç—É—Å –∞–∫–∫–∞—É–Ω—Ç–∞ –∏–∑–º–µ–Ω–∏–ª—Å—è
- `payment_intent.succeeded` - –£—Å–ø–µ—à–Ω—ã–π –ø–ª–∞—Ç–µ–∂
- `payout.paid` - –í—ã–ø–ª–∞—Ç–∞ –∞–≤—Ç–æ—Ä—É

Webhook URL: `https://yourapp.com/api/webhooks/stripe`

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### **1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Stripe (–∞–≤—Ç–æ—Ä)**

```
1. –û—Ç–∫—Ä–æ–π: /profile?tab=social&subtab=monetization
2. –ù–∞–∂–º–∏ "Connect with Stripe"
3. –¢–µ–±—è –ø–µ—Ä–µ–∫–∏–Ω–µ—Ç –Ω–∞ Stripe OAuth
4. –í–æ–π–¥–∏ –∏–ª–∏ —Å–æ–∑–¥–∞–π test –∞–∫–∫–∞—É–Ω—Ç
5. –ù–∞–∂–º–∏ "Connect"
6. –ü–µ—Ä–µ–∫–∏–Ω–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ ‚Üí Stripe Connected ‚úÖ
```

### **2. –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ Stripe**

–î–ª—è —Ç–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π Stripe test mode:

**Test Bank Account:**
- Account Number: `000123456789`
- Routing Number: `110000000`

**Test Card:**
- Number: `4242 4242 4242 4242`
- Expiry: –õ—é–±–∞—è –±—É–¥—É—â–∞—è –¥–∞—Ç–∞
- CVC: –õ—é–±—ã–µ 3 —Ü–∏—Ñ—Ä—ã

---

## üí° User Flow

### **–î–ª—è –∞–≤—Ç–æ—Ä–∞ (–ø—Ä–æ–¥–∞–≤–µ—Ü):**

```
1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ
2. –ü–µ—Ä–µ—Ö–æ–¥ –≤ Monetization ‚Üí Connect Stripe
3. OAuth flow ‚Üí –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞
4. –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –≤ Stripe
5. –ü—É–±–ª–∏–∫–∞—Ü–∏—è premium –∫–æ–Ω—Ç–µ–Ω—Ç–∞
6. –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π (90% –æ—Ç –ø—Ä–æ–¥–∞–∂)
7. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã–ø–ª–∞—Ç—ã –Ω–∞ –±–∞–Ω–∫
```

### **–î–ª—è –ø–æ–∫—É–ø–∞—Ç–µ–ª—è:**

```
1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ
2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã –≤ Billing
3. –ü–æ–∫—É–ø–∫–∞ premium –∫–æ–Ω—Ç–µ–Ω—Ç–∞
4. –°–ø–∏—Å–∞–Ω–∏–µ —Å –∫–∞—Ä—Ç—ã
5. –î–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–µ–Ω—Ç—É
```

---

## üìã –ö–æ–º–∏—Å—Å–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

### **–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**

```typescript
// –í backend/src/services/stripe/stripeConnect.service.ts

// –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 10%
const platformFeePercent = 10;

// –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–≤—Ç–æ—Ä–∞:
const customFee = await getAuthorCommission(authorId); // 5-30%
```

### **–í–∞—Ä–∏–∞–Ω—Ç—ã:**

- **10%** - –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è (–∫–∞–∫ Gumroad)
- **5%** - Premium –∞–≤—Ç–æ—Ä—ã
- **20%** - –ù–æ–≤—ã–µ –∞–≤—Ç–æ—Ä—ã
- **30%** - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è

---

## üéØ –ß—Ç–æ –≥–æ—Ç–æ–≤–æ

‚úÖ **Backend:**
- Prisma schema –æ–±–Ω–æ–≤–ª–µ–Ω
- Stripe Connect service
- Stripe Customer service
- API routes
- Controllers
- OAuth flow

‚úÖ **Frontend:**
- Stripe Connect UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- OAuth callback handling
- Dashboard link
- Disconnect —Ñ—É–Ω–∫—Ü–∏—è
- API client

---

## ‚ö†Ô∏è TODO: –î–æ—Ä–∞–±–æ—Ç–∫–∏

### **1. Payment Methods UI** (–¥–ª—è –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π)

–ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–∞–º–∏:

```tsx
// client/components/BillingSettings/PaymentMethodsSettings.tsx

<Card>
  <CardHeader>Add Payment Method</CardHeader>
  <CardContent>
    {/* Stripe Elements –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç—ã */}
    <Elements stripe={stripePromise}>
      <AddCardForm />
    </Elements>
    
    {/* –°–ø–∏—Å–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –∫–∞—Ä—Ç */}
    {cards.map(card => (
      <CardRow key={card.id} card={card} />
    ))}
  </CardContent>
</Card>
```

### **2. Purchase Flow**

–°–æ–∑–¥–∞—Ç—å UI –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞:

```tsx
// –ö–æ–≥ÔøΩÔøΩ–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–∫—É–ø–∞–µ—Ç –ø–æ—Å—Ç
const handlePurchase = async (postId: string) => {
  const payment = await backendApi.purchasePost({
    postId,
    amount: 1000, // $10
  });
  
  // Show success message
  // Unlock content
};
```

### **3. Subscription UI**

–î–ª—è –º–µ—Å—è—á–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–æ–∫ –Ω–∞ –∞–≤—Ç–æ—Ä–æ–≤:

```tsx
// –ö–Ω–æ–ø–∫–∞ "Subscribe" –Ω–∞ –ø—Ä–æ—Ñ–∏–ª–µ –∞–≤—Ç–æ—Ä–∞
<Button onClick={() => subscribeToAuthor(authorId, 'monthly')}>
  Subscribe $19.99/month
</Button>
```

### **4. Earnings Dashboard**

–î–ª—è –∞–≤—Ç–æ—Ä–æ–≤ - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –¥–æ—Ö–æ–¥—ã:

```tsx
// –í Monetization tab
<EarningsDashboard>
  <TotalEarnings amount={9000} />
  <RevenueChart data={monthlyRevenue} />
  <RecentSales sales={recentSales} />
  <PayoutHistory payouts={payouts} />
</EarningsDashboard>
```

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:**

1. `backend/prisma/schema.prisma` - –û–±–Ω–æ–≤–ª–µ–Ω (Connect models)
2. `backend/src/services/stripe/stripeConnect.service.ts` - Service –¥–ª—è –∞–≤—Ç–æ—Ä–æ–≤
3. `backend/src/services/stripe/stripeCustomer.service.ts` - Service –¥–ª—è –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π
4. `backend/src/api/routes/stripeConnect.routes.ts` - Routes
5. `backend/src/api/controllers/stripeConnect.controller.ts` - Controller
6. `client/services/api/stripeConnect.ts` - Frontend API client
7. `client/components/Monetization/StripeConnectSettings.tsx` - UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
8. `STRIPE_CONNECT_MARKETPLACE_COMPLETE.md` - –≠—Ç–æ—Ç —Ñ–∞–π–ª

---

## ‚úÖ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ó–∞–ø—É—Å—Ç–∏ backend:**
   ```bash
   cd backend
   npm install
   npx prisma generate
   npx prisma migrate dev --name add_stripe_connect
   npm run dev
   ```

2. **–ü–æ–ª—É—á–∏ Stripe Connect credentials:**
   - –ó–∞–π–¥–∏ –Ω–∞ https://dashboard.stripe.com
   - Settings ‚Üí Connect ‚Üí Get started
   - –°–∫–æ–ø–∏—Ä—É–π Client ID, Secret Key

3. **–û–±–Ω–æ–≤–∏ `.env`:**
   ```env
   STRIPE_SECRET_KEY="sk_test_..."
   STRIPE_CLIENT_ID="ca_..."
   ```

4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π Connect flow:**
   - –û—Ç–∫—Ä–æ–π `/profile?tab=social&subtab=monetization`
   - –ù–∞–∂–º–∏ "Connect with Stripe"
   - –ü—Ä–æ–π–¥–∏ OAuth flow

5. **–ü–æ—Å—Ç—Ä–æ–π Payment Methods UI** (—Å–º. TODO –≤—ã—à–µ)

---

## üéâ –ò—Ç–æ–≥–∏

**Marketplace –º–æ–¥–µ–ª—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞!**

- ‚úÖ Stripe Connect –¥–ª—è –∞–≤—Ç–æ—Ä–æ–≤ (OAuth flow)
- ‚úÖ Payment Methods –¥–ª—è –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π (backend –≥–æ—Ç–æ–≤)
- ‚úÖ Platform fee —Å–∏—Å—Ç–µ–º–∞ (10% –∫–æ–º–∏—Å—Å–∏—è)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ payouts
- ‚úÖ Dashboard access –¥–ª—è –∞–≤—Ç–æ—Ä–æ–≤

**–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!** üöÄ

---

**–í–æ–ø—Ä–æ—Å—ã?** –í—Å—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –¥–ª—è marketplace –º–æ–¥–µ–ª–∏. –û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–∏—Ç—å Payment Methods UI –∏ Purchase flow.
