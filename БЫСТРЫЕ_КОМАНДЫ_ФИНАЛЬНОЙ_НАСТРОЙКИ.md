# ‚ö° –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## üéØ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–∏ 2 –ø—Ä–æ—Å—Ç—ã—Ö —à–∞–≥–∞, —á—Ç–æ–±—ã –∑–∞–≤–µ—Ä—à–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É Admin Panel –∏ TOTP:

---

## –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å ENCRYPTION_KEY –≤ Railway

### –í–∞—Ä–∏–∞–Ω—Ç A - –ß–µ—Ä–µ–∑ Dashboard (–ø—Ä–æ—â–µ):

1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://railway.app ‚Üí –í–∞—à –ø—Ä–æ–µ–∫—Ç ‚Üí custom-backend ‚Üí Variables
2. –ù–∞–∂–º–∏—Ç–µ **New Variable**
3. –î–æ–±–∞–≤—å—Ç–µ:
   - Variable Name: `ENCRYPTION_KEY`
   - Value: `MMaiIy3dKPYpFZ9eSKVOD03AEsffPn80E/ik2sIRSO0=`
4. –ù–∞–∂–º–∏—Ç–µ **Add** ‚Üí Railway –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–∏—Å

### –í–∞—Ä–∏–∞–Ω—Ç B - –ß–µ—Ä–µ–∑ CLI:

```bash
# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã (–æ–¥–Ω–∞ –∏–∑ –Ω–∏—Ö –¥–æ–ª–∂–Ω–∞ —Å—Ä–∞–±–æ—Ç–∞—Ç—å):
railway variables --set ENCRYPTION_KEY="MMaiIy3dKPYpFZ9eSKVOD03AEsffPn80E/ik2sIRSO0="

# –∏–ª–∏
railway variables -s ENCRYPTION_KEY="MMaiIy3dKPYpFZ9eSKVOD03AEsffPn80E/ik2sIRSO0="
```

---

## –®–∞–≥ 2: –ù–∞–∑–Ω–∞—á–∏—Ç—å —Å–µ–±–µ —Ä–æ–ª—å Admin

### –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î:

```bash
cd custom-backend
psql "postgresql://postgres:postgres@localhost:5432/social_network" -c "UPDATE users SET role = 'admin' WHERE username = '–í–ê–®_USERNAME';"
```

### –î–ª—è Railway –ë–î:

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å
railway connect postgres

# –í—ã–ø–æ–ª–Ω–∏—Ç–µ (–∑–∞–º–µ–Ω–∏—Ç–µ –í–ê–®_USERNAME):
UPDATE users SET role = 'admin' WHERE username = '–í–ê–®_USERNAME';

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ
SELECT id, username, email, role FROM users WHERE role = 'admin';

# –í—ã—Ö–æ–¥
\q
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

### Admin Panel:
- –õ–æ–∫–∞–ª—å–Ω–æ: http://localhost:5173/admin
- Production: https://social.tyriantrade.com/admin

### TOTP (2FA):
- –õ–æ–∫–∞–ª—å–Ω–æ: http://localhost:5173/profile/security
- Production: https://social.tyriantrade.com/profile?tab=profile&profileTab=security

---

## üìù –û—Ç—á–∏—Ç–∞–π—Ç–µ—Å—å

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–∞–ø–∏—à–∏—Ç–µ:

1. ENCRYPTION_KEY —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω? (–¥–∞/–Ω–µ—Ç)
2. –†–æ–ª—å admin –Ω–∞–∑–Ω–∞—á–µ–Ω–∞? (–¥–∞/–Ω–µ—Ç)
3. Admin Panel —Ä–∞–±–æ—Ç–∞–µ—Ç? (–¥–∞/–Ω–µ—Ç/–æ—à–∏–±–∫–∞)
4. TOTP —Ä–∞–±–æ—Ç–∞–µ—Ç? (–¥–∞/–Ω–µ—Ç/–æ—à–∏–±–∫–∞)

–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: `–§–ò–ù–ê–õ–¨–ù–ê–Ø_–ù–ê–°–¢–†–û–ô–ö–ê_ADMIN_–ò_TOTP.md`
