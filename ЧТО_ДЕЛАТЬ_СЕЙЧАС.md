# üéØ –ß–¢–û –î–ï–õ–ê–¢–¨ –°–ï–ô–ß–ê–° - –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

## üìç –ì–î–ï –í–´ –°–ï–ô–ß–ê–°

–í—ã —É—Å–ø–µ—à–Ω–æ:
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ Railway CLI –∏ Netlify CLI
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–ª–∏—Å—å –≤ Railway –∏ Netlify
- ‚úÖ –°–æ–∑–¥–∞–ª–∏ –ø—Ä–æ–µ–∫—Ç "TT PROD1" –Ω–∞ Railway
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏–ª–∏ –∫–æ–º–∞–Ω–¥—É `railway add`

**–°–µ–π—á–∞—Å Railway CLI –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–∞–º:**
```
> Select databases to add
Please select at least one database to add
```

---

## üéÆ –®–ê–ì 1: –í—ã–±–æ—Ä PostgreSQL

**–í –≤–∞—à–µ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –ü–†–Ø–ú–û –°–ï–ô–ß–ê–°:**

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç—Ä–µ–ª–∫–∏ ‚Üë ‚Üì** –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ
2. **–ù–∞–π–¥–∏—Ç–µ –≤ —Å–ø–∏—Å–∫–µ "PostgreSQL"**
3. **–ù–∞–∂–º–∏—Ç–µ SPACEBAR (–ø—Ä–æ–±–µ–ª)** - –ø–æ—è–≤–∏—Ç—Å—è –≥–∞–ª–æ—á–∫–∞ ‚òë
4. **–ù–∞–∂–º–∏—Ç–µ ENTER**

Railway —Å–æ–∑–¥–∞—Å—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL –∏ –≤—ã —É–≤–∏–¥–∏—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ.

---

## üöÄ –®–ê–ì 2: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Railway

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è PostgreSQL –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

```bash
# –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x setup-railway.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç
./setup-railway.sh
```

**–ß—Ç–æ —Å–¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç:**
1. üîê –°–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–π JWT_SECRET
2. üìÇ –û—Ç–∫—Ä–æ–µ—Ç –±—Ä–∞—É–∑–µ—Ä –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Root Directory
3. ‚öôÔ∏è  –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
4. üöÄ –ó–∞–¥–µ–ø–ª–æ–∏—Ç backend –Ω–∞ Railway
5. üåê –°–æ–∑–¥–∞—Å—Ç –ø—É–±–ª–∏—á–Ω—ã–π URL –¥–ª—è –≤–∞—à–µ–≥–æ backend

### ‚ö†Ô∏è –í–ê–ñ–ù–û –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞:

–ö–æ–≥–¥–∞ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä Railway:
1. –í—ã –æ–∫–∞–∂–µ—Ç–µ—Å—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ **Settings**
2. –í —Å–∞–º–æ–º –≤–µ—Ä—Ö—É –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **Source**
3. –¢–∞–º –±—É–¥–µ—Ç –ø–æ–ª–µ **"Add Root Directory"**
4. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —ç—Ç–æ –ø–æ–ª–µ –∏ –≤–≤–µ–¥–∏—Ç–µ: `custom-backend`
5. –ù–∞–∂–º–∏—Ç–µ **Apply changes** (–∫–Ω–æ–ø–∫–∞ —Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É)
6. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –Ω–∞–∂–º–∏—Ç–µ **Enter**

–°–∫—Ä–∏–ø—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

---

## üé® –®–ê–ì 3: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Netlify

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è –Ω–∞ Railway –≤—ã –ø–æ–ª—É—á–∏—Ç–µ URL backend.

**–ü—Ä–∏–º–µ—Ä URL:** `https://tt-prod1-production.up.railway.app`

**üìù –°–û–•–†–ê–ù–ò–¢–ï –≠–¢–û–¢ URL!**

–ó–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x setup-netlify.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç
./setup-netlify.sh
```

**–ß—Ç–æ —Å–¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç:**
1. üìù –ü–æ–ø—Ä–æ—Å–∏—Ç –≤–≤–µ—Å—Ç–∏ URL backend –æ—Ç Railway
2. üöÄ –°–æ–∑–¥–∞—Å—Ç –Ω–æ–≤—ã–π —Å–∞–π—Ç –Ω–∞ Netlify
3. ‚öôÔ∏è  –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
4. üé® –ó–∞–¥–µ–ø–ª–æ–∏—Ç frontend –Ω–∞ Netlify
5. üåê –ü–æ–∫–∞–∂–µ—Ç URL –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞

### –í–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ Netlify:

Netlify CLI –∑–∞–¥–∞—Å—Ç –≤–æ–ø—Ä–æ—Å—ã:
- **Create & configure a new site?** ‚Üí –í—ã–±–µ—Ä–∏—Ç–µ **Yes**
- **Team:** ‚Üí –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç
- **Site name:** ‚Üí –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `x-18-frontend`)
- **Build command:** ‚Üí –î–æ–ª–∂–Ω–æ –±—ã—Ç—å `npm run build:client` (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)
- **Publish directory:** ‚Üí –î–æ–ª–∂–Ω–æ –±—ã—Ç—å `dist/spa` (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)

---

## üîó –®–ê–ì 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ CORS –Ω–∞ Backend

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –Ω–∞ Netlify –≤—ã –ø–æ–ª—É—á–∏—Ç–µ URL —Å–∞–π—Ç–∞.

**–ü—Ä–∏–º–µ—Ä URL:** `https://x-18-frontend.netlify.app`

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

```bash
# –ó–∞–º–µ–Ω–∏—Ç–µ YOUR-NETLIFY-URL –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π URL
railway variables set FRONTEND_URL='https://YOUR-NETLIFY-URL.netlify.app'
railway variables set ALLOWED_ORIGINS='https://YOUR-NETLIFY-URL.netlify.app'
```

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Å—Ç backend —Å –Ω–æ–≤—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ CORS.

---

## ‚úÖ –ü–†–û–í–ï–†–ö–ê

–ü–æ—Å–ª–µ –≤—Å–µ—Ö —à–∞–≥–æ–≤ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

### Backend (Railway):
```bash
# –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à Railway URL
curl https://your-backend-url.up.railway.app/health
```

–î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: `{"status":"ok"}`

### Frontend (Netlify):
–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –≤–∞—à Netlify URL.

---

## üìã –ö–û–ú–ê–ù–î–´ –î–õ–Ø –°–ü–†–ê–í–ö–ò

### Railway:
```bash
railway logs              # –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏
railway variables         # –ü–æ–∫–∞–∑–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
railway open              # –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
railway status            # –°—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—è
```

### Netlify:
```bash
netlify logs:deploy       # –õ–æ–≥–∏ –¥–µ–ø–ª–æ—è
netlify env:list          # –ü–æ–∫–∞–∑–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
netlify open:site         # –û—Ç–∫—Ä—ã—Ç—å —Å–∞–π—Ç
netlify status            # –°—Ç–∞—Ç—É—Å
```

---

## üÜò –ï–°–õ–ò –ß–¢–û-–¢–û –ü–û–®–õ–û –ù–ï –¢–ê–ö

1. **–ù–µ –≤–∏–¥–∏—Ç–µ PostgreSQL –≤ —Å–ø–∏—Å–∫–µ?**
   - –ù–∞–∂–º–∏—Ç–µ Ctrl+C
   - –í—ã–ø–æ–ª–Ω–∏—Ç–µ `railway add` —Å–Ω–æ–≤–∞
   - –í—ã–±–µ—Ä–∏—Ç–µ "Database" ‚Üí "PostgreSQL"

2. **–°–∫—Ä–∏–ø—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è?**
   ```bash
   chmod +x setup-railway.sh
   chmod +x setup-netlify.sh
   ```

3. **Build failed?**
   ```bash
   # Railway
   railway logs
   
   # Netlify
   netlify logs:deploy
   ```

4. **CORS errors?**
   ```bash
   railway variables set ALLOWED_ORIGINS='https://your-site.netlify.app'
   ```

---

## ‚è±Ô∏è –í–†–ï–ú–Ø –í–´–ü–û–õ–ù–ï–ù–ò–Ø

- **–®–∞–≥ 1 (PostgreSQL)**: 30 —Å–µ–∫—É–Ω–¥
- **–®–∞–≥ 2 (Railway)**: 5-7 –º–∏–Ω—É—Ç
- **–®–∞–≥ 3 (Netlify)**: 3-5 –º–∏–Ω—É—Ç
- **–®–∞–≥ 4 (CORS)**: 1 –º–∏–Ω—É—Ç–∞

**–í—Å–µ–≥–æ**: ~10-15 –º–∏–Ω—É—Ç

---

## üéâ –ì–û–¢–û–í–û!

–ü–æ—Å–ª–µ –≤—Å–µ—Ö —à–∞–≥–æ–≤ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ!

**Backend**: `https://your-backend.up.railway.app`  
**Frontend**: `https://your-site.netlify.app`

–í—ã —Å–º–æ–∂–µ—Ç–µ:
- üìù –†–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üìÆ –°–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ—Å—Ç—ã
- üí¨ –ö–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å
- üë• –ü–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üîî –ü–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

---

## üìû –ù–£–ñ–ù–ê –ü–û–ú–û–©–¨?

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `railway logs` –∏–ª–∏ `netlify logs:deploy`
2. –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ –ø–æ–ª–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é: `–î–ï–ü–õ–û–ô_–ß–ï–†–ï–ó_–¢–ï–†–ú–ò–ù–ê–õ.md`
3. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –¥–µ—Ç–∞–ª—å–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ: `DEPLOYMENT_COMPLETE_GUIDE.md`

---

**–£–¥–∞—á–∏! üöÄ**
