# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞—Ç–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤

## –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–æ–∑–¥–∞—Ç—å –ø–ª–∞—Ç–Ω—ã–π –ø–æ—Å—Ç —Å —Ü–µ–Ω–æ–π –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞:
```
Failed to create post: invalid access_level: paid
```

## –ü—Ä–∏—á–∏–Ω–∞
–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º –∏ –±—ç–∫–µ–Ω–¥–æ–º –≤ –∑–Ω–∞—á–µ–Ω–∏—è—Ö `accessLevel`:
- **–§—Ä–æ–Ω—Ç–µ–Ω–¥ –æ—Ç–ø—Ä–∞–≤–ª—è–ª**: `"accessLevel": "paid"`
- **–ë—ç–∫–µ–Ω–¥ –æ–∂–∏–¥–∞–ª**: `"accessLevel": "pay-per-post"`

## –†–µ—à–µ–Ω–∏–µ
–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `mapAccessLevel` –≤ —Ñ–∞–π–ª–µ `client/utils/postPayloadBuilder.ts`:

### –ë—ã–ª–æ:
```typescript
function mapAccessLevel(clientValue: string): string {
  const mapping: Record<string, string> = {
    'free': 'public',           // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
    'pay-per-post': 'paid',     // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - –≤—ã–∑—ã–≤–∞–ª–æ –æ—à–∏–±–∫—É
    // ...
  };
  return mapping[clientValue] || clientValue;
}
```

### –°—Ç–∞–ª–æ:
```typescript
function mapAccessLevel(clientValue: string): string {
  const mapping: Record<string, string> = {
    'free': 'free',                         // ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
    'pay-per-post': 'pay-per-post',         // ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
    'subscribers-only': 'subscribers-only', // ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
    'followers-only': 'followers-only',     // ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
    'premium': 'premium'                    // ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
  };
  return mapping[clientValue] || clientValue;
}
```

## –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –±—ç–∫–µ–Ω–¥–µ
–í `custom-backend/internal/api/posts.go` –±—ç–∫–µ–Ω–¥ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è:
```go
validAccessLevels := map[string]bool{
    "free":             true,
    "pay-per-post":     true,
    "subscribers-only": true,
    "followers-only":   true,
    "premium":          true,
}
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –®–∞–≥–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
1. **–û–±–Ω–æ–≤–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä** (Ctrl+Shift+R / Cmd+Shift+R) —á—Ç–æ–±—ã –∑–∞–≥—Ä—É–∑–∏—Ç—å –Ω–æ–≤—ã–π –∫–æ–¥
2. –û—Ç–∫—Ä—ã—Ç—å –∫–æ–º–ø–æ–∑–µ—Ä –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å—Ç–∞
3. –ù–∞–∂–∞—Ç—å –Ω–∞ –∏–∫–æ–Ω–∫—É –∑–∞–º–∫–∞ üîí
4. –í –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ:
   - –í—ã–±—Ä–∞—Ç—å "Pay-per-post"
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ü–µ–Ω—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, $44.00)
   - –ù–∞–∂–∞—Ç—å "Save"
5. –í–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç –ø–æ—Å—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "7")
6. –ù–∞–∂–∞—Ç—å "Post"

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –ü–æ—Å—Ç –¥–æ–ª–∂–µ–Ω —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞—Ç—å—Å—è
- ‚úÖ –í –ª–µ–Ω—Ç–µ –ø–æ—Å—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —Å –∏–∫–æ–Ω–∫–æ–π –∑–∞–º–∫–∞ üîí
- ‚úÖ –î–æ–ª–∂–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —Ü–µ–Ω–∞ "$44.00"
- ‚úÖ –ö–æ–Ω—Ç–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–∫—Ä—ã—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∫—É–ø–∏–ª–∏ –¥–æ—Å—Ç—É–ø

### –õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:
–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
[buildPostPayload] accessLevel: "pay-per-post"
[buildPostPayload] priceCents: 4400
```

–ò **–Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å** –æ—à–∏–±–∫–∏:
```
Failed to create post: invalid access_level: paid
```

## –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- ‚úÖ `client/utils/postPayloadBuilder.ts` - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –º–∞–ø–ø–∏–Ω–≥ accessLevel

## –°—Ç–∞—Ç—É—Å
‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** - –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
