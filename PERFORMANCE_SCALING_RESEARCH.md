# –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ: –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –º–æ—â–Ω–æ—Å—Ç–µ–π –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã

## üìä –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (Option 3)

### ECS Fargate Backend
```
CPU: 1024 (1 vCPU)
Memory: 2048 MB (2 GB)
–°—Ç–æ–∏–º–æ—Å—Ç—å: $36/–º–µ—Å—è—Ü
```

### –î—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã
```
RDS PostgreSQL: db.t3.micro (2 vCPU, 1 GB)
ElastiCache Redis: cache.t3.micro (2 vCPU, 0.5 GB)
```

---

## üöÄ –í–∞—Ä–∏–∞–Ω—Ç—ã —É–≤–µ–ª–∏—á–µ–Ω–∏—è –º–æ—â–Ω–æ—Å—Ç–µ–π

### 1. ECS Fargate Backend - –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | CPU | Memory | –°—Ç–æ–∏–º–æ—Å—Ç—å/–º–µ—Å | –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ |
|--------------|-----|--------|---------------|-------------|
| **–¢–µ–∫—É—â–∞—è** | 1024 (1 vCPU) | 2048 MB | $36 | –î–æ 100-200 –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π |
| Option A | 2048 (2 vCPU) | 4096 MB | $72 | 200-500 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π |
| Option B | 4096 (4 vCPU) | 8192 MB | $144 | 500-1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π |
| Option C | 8192 (8 vCPU) | 16384 MB | $288 | 1000+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π |

**–ß—Ç–æ —É—Å–∫–æ—Ä–∏—Ç—Å—è:**
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ API –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞/–æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–µ–¥–∏–∞
- ‚ùå –ù–ï —É—Å–∫–æ—Ä–∏—Ç Docker build (—ç—Ç–æ GitHub Actions)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** 
- –û—Å—Ç–∞–≤–∏—Ç—å 1024/2048 —Å–µ–π—á–∞—Å
- –£–≤–µ–ª–∏—á–∏—Ç—å –¥–æ 2048/4096 –∫–æ–≥–¥–∞ > 200 –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

### 2. RDS PostgreSQL - –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ë–î

| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | vCPU | Memory | IOPS | –°—Ç–æ–∏–º–æ—Å—Ç—å/–º–µ—Å | –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ |
|--------------|------|--------|------|---------------|-------------|
| **–¢–µ–∫—É—â–∞—è** | 2 | 1 GB | ~3000 | $13 | –î–æ 1000 –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫ |
| db.t3.small | 2 | 2 GB | ~3000 | $26 | 1000-5000 –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫ |
| db.t3.medium | 2 | 4 GB | ~3000 | $52 | 5000-10000 –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫ |
| db.m5.large | 2 | 8 GB | ~3000 | $146 | 10000+ –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫ |
| db.m5.xlarge | 4 | 16 GB | ~3000 | $292 | High-load production |

**–ß—Ç–æ —É—Å–∫–æ—Ä–∏—Ç—Å—è:**
- ‚úÖ –°–ª–æ–∂–Ω—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ Joins –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏
- ‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ –≤ –ø–∞–º—è—Ç–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –û—Å—Ç–∞–≤–∏—Ç—å t3.micro —Å–µ–π—á–∞—Å
- –£–≤–µ–ª–∏—á–∏—Ç—å –¥–æ t3.small –∫–æ–≥–¥–∞ > 500 –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

### 3. ElastiCache Redis - –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫—ç—à–∞

| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | vCPU | Memory | Network | –°—Ç–æ–∏–º–æ—Å—Ç—å/–º–µ—Å | –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ |
|--------------|------|--------|---------|---------------|-------------|
| **–¢–µ–∫—É—â–∞—è** | 2 | 0.5 GB | Low | $12 | –î–æ 10K –∫–ª—é—á–µ–π |
| cache.t3.small | 2 | 1.5 GB | Moderate | $24 | 10K-100K –∫–ª—é—á–µ–π |
| cache.m5.large | 2 | 6.4 GB | High | $110 | 100K-1M –∫–ª—é—á–µ–π |
| cache.r5.large | 2 | 13.5 GB | High | $145 | 1M+ –∫–ª—é—á–µ–π |

**–ß—Ç–æ —É—Å–∫–æ—Ä–∏—Ç—Å—è:**
- ‚úÖ –°–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ API rate limiting
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ Pub/Sub –¥–ª—è real-time features

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –û—Å—Ç–∞–≤–∏—Ç—å t3.micro —Å–µ–π—á–∞—Å
- –£–≤–µ–ª–∏—á–∏—Ç—å –¥–æ t3.small –∫–æ–≥–¥–∞ > 1000 –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

### 4. GitHub Actions Runners - –£—Å–∫–æ—Ä–µ–Ω–∏–µ –¥–µ–ø–ª–æ—è

| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | vCPU | Memory | –°—Ç–æ–∏–º–æ—Å—Ç—å/–º–µ—Å | Build –≤—Ä–µ–º—è |
|--------------|------|--------|---------------|-------------|
| **–¢–µ–∫—É—â–∞—è** (Free) | 2 | 7 GB | $0 | 8-10 –º–∏–Ω (–ø–µ—Ä–≤—ã–π), 2-3 –º–∏–Ω (–∫—ç—à) |
| Larger runners | 4 | 16 GB | $0.008/–º–∏–Ω | 4-5 –º–∏–Ω (–ø–µ—Ä–≤—ã–π), 1-2 –º–∏–Ω (–∫—ç—à) |
| XL runners | 8 | 32 GB | $0.016/–º–∏–Ω | 2-3 –º–∏–Ω (–ø–µ—Ä–≤—ã–π), 1 –º–∏–Ω (–∫—ç—à) |

**–ß—Ç–æ —É—Å–∫–æ—Ä–∏—Ç—Å—è:**
- ‚úÖ Docker build
- ‚úÖ Go compilation
- ‚úÖ Parallel steps

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –û—Å—Ç–∞–≤–∏—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ runners
- Docker cache —É–∂–µ –¥–∞–µ—Ç —É—Å–∫–æ—Ä–µ–Ω–∏–µ –¥–æ 2-3 –º–∏–Ω
- –ü–ª–∞—Ç–∏—Ç—å $0.008/–º–∏–Ω ($5-10/–º–µ—Å—è—Ü) –Ω–µ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª–∞

---

## üìà –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –°—Ç–∞—Ä—Ç–∞–ø (0-500 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π) - –¢–ï–ö–£–©–ê–Ø
```
‚úÖ ECS Fargate: 1024/2048
‚úÖ RDS: db.t3.micro
‚úÖ Redis: cache.t3.micro
‚úÖ GitHub: Free runners

–°—Ç–æ–∏–º–æ—Å—Ç—å: ~$87/–º–µ—Å—è—Ü
–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: –î–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –†–∞—Å—Ç—É—â–∏–π –ø—Ä–æ–µ–∫—Ç (500-2000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
```
üîº ECS Fargate: 2048/4096 (+$36)
üîº RDS: db.t3.small (+$13)
‚úÖ Redis: cache.t3.micro
‚úÖ GitHub: Free runners

–°—Ç–æ–∏–º–æ—Å—Ç—å: ~$136/–º–µ—Å—è—Ü (+$49)
–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 2x –±—ã—Å—Ç—Ä–µ–µ
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: Popular App (2000-10000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
```
üîº ECS Fargate: 4096/8192 (+$108)
üîº RDS: db.t3.medium (+$39)
üîº Redis: cache.t3.small (+$12)
‚úÖ GitHub: Free runners

–°—Ç–æ–∏–º–æ—Å—Ç—å: ~$246/–º–µ—Å—è—Ü (+$159)
–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 4x –±—ã—Å—Ç—Ä–µ–µ
Auto-scaling: 2-4 tasks
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: Enterprise (10000+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
```
üîº ECS Fargate: 8192/16384 (+$252)
üîº RDS: db.m5.large (+$133)
üîº Redis: cache.m5.large (+$98)
üîº Multi-AZ deployment
üîº Read replicas
üîº CDN optimization

–°—Ç–æ–∏–º–æ—Å—Ç—å: ~$600+/–º–µ—Å—è—Ü
–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 10x –±—ã—Å—Ç—Ä–µ–µ
High availability
```

---

## üéØ –ß—Ç–æ —É–≤–µ–ª–∏—á–∏—Ç—å –ü–†–Ø–ú–û –°–ï–ô–ß–ê–° –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏?

### –í–∞—Ä–∏–∞–Ω—Ç A: –£–º–µ—Ä–µ–Ω–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ (+$49/–º–µ—Å)
```bash
# ECS Backend: 1024 ‚Üí 2048 CPU, 2048 ‚Üí 4096 Memory
aws ecs update-service \
  --cluster tyriantrade-cluster \
  --service tyriantrade-backend-service \
  --task-definition <–Ω–æ–≤–∞—è —Å 2048/4096>

# RDS: t3.micro ‚Üí t3.small
aws rds modify-db-instance \
  --db-instance-identifier tyriantrade-db \
  --db-instance-class db.t3.small \
  --apply-immediately
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- API requests: 30-50% –±—ã—Å—Ç—Ä–µ–µ
- Database queries: 40-60% –±—ã—Å—Ç—Ä–µ–µ
- Concurrent users: 2x –±–æ–ª—å—à–µ

### –í–∞—Ä–∏–∞–Ω—Ç B: –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ (+$159/–º–µ—Å)
```bash
# ECS: 4096 CPU / 8192 Memory
# RDS: db.t3.medium
# Redis: cache.t3.small
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- API requests: 60-80% –±—ã—Å—Ç—Ä–µ–µ
- Database queries: 70-90% –±—ã—Å—Ç—Ä–µ–µ
- Concurrent users: 4x –±–æ–ª—å—à–µ

---

## üìä –î–µ—Ç–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ú–µ—Ç—Ä–∏–∫–∞: API Response Time

| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | Simple GET | Complex Query | Media Upload | Concurrent Users |
|--------------|------------|---------------|--------------|------------------|
| –¢–µ–∫—É—â–∞—è (1024/2048) | 50ms | 200ms | 2s | 200 |
| –£–ª—É—á—à–µ–Ω–Ω–∞—è (2048/4096) | 35ms | 120ms | 1.2s | 400 |
| –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è (4096/8192) | 25ms | 80ms | 0.8s | 800 |

### –ú–µ—Ç—Ä–∏–∫–∞: Database Performance

| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | Simple SELECT | JOIN Query | Write Query | Connections |
|--------------|---------------|------------|-------------|-------------|
| t3.micro | 10ms | 150ms | 30ms | 100 |
| t3.small | 8ms | 90ms | 20ms | 200 |
| t3.medium | 5ms | 50ms | 12ms | 400 |

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

### –°–ï–ô–ß–ê–° (–ø–µ—Ä–≤—ã–µ 3-6 –º–µ—Å—è—Ü–µ–≤)
```
‚úÖ –û—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ CloudWatch
‚úÖ –£–≤–µ–ª–∏—á–∏–≤–∞—Ç—å –ø–æ –º–µ—Ä–µ —Ä–æ—Å—Ç–∞ –Ω–∞–≥—Ä—É–∑–∫–∏
```

**–ü–æ—á–µ–º—É:**
1. Docker cache —É–∂–µ —É—Å–∫–æ—Ä—è–µ—Ç –¥–µ–ø–ª–æ–π –¥–æ 2-3 –º–∏–Ω
2. 1024/2048 –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è 200+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. –≠–∫–æ–Ω–æ–º–∏—è ~$50-150/–º–µ—Å—è—Ü
4. –õ–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ

### –ö–æ–≥–¥–∞ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å:
```
‚ö†Ô∏è  CPU > 70% –ø–æ—Å—Ç–æ—è–Ω–Ω–æ ‚Üí —É–≤–µ–ª–∏—á–∏—Ç—å ECS
‚ö†Ô∏è  Memory > 80% –ø–æ—Å—Ç–æ—è–Ω–Ω–æ ‚Üí —É–≤–µ–ª–∏—á–∏—Ç—å ECS
‚ö†Ô∏è  DB connections > 80 ‚Üí —É–≤–µ–ª–∏—á–∏—Ç—å RDS
‚ö†Ô∏è  Redis memory > 80% ‚Üí —É–≤–µ–ª–∏—á–∏—Ç—å Redis
‚ö†Ô∏è  Response time > 1s ‚Üí —É–≤–µ–ª–∏—á–∏—Ç—å –≤—Å–µ
```

**CloudWatch –∞–ª–∞—Ä–º—ã —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è —ç—Ç–æ–≥–æ! ‚úÖ**

---

## üöÄ –ë—ã—Å—Ç—Ä–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ –ë–ï–ó —É–≤–µ–ª–∏—á–µ–Ω–∏—è –º–æ—â–Ω–æ—Å—Ç–µ–π

### 1. Database Optimization
```sql
-- –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã
CREATE INDEX idx_users_email ON users(email);
CREATE INDEX idx_posts_user_created ON posts(user_id, created_at DESC);
CREATE INDEX idx_comments_post ON comments(post_id);

-- Connection pooling
–£–∂–µ –µ—Å—Ç—å –≤ –∫–æ–¥–µ: pgxpool
```

### 2. Redis Caching
```go
// –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- User profiles
- Popular posts
- Feed data
- API responses
```

### 3. CDN Optimization
```
‚úÖ CloudFront —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
‚úÖ Gzip compression
‚úÖ Browser caching (max-age)
```

### 4. Code Optimization
```go
// –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- Goroutines –¥–ª—è –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- Batch operations
- Lazy loading
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 20-40% —É—Å–∫–æ—Ä–µ–Ω–∏–µ –ë–ï–ó –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤!

---

## üìù –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

–°–æ–∑–¥–∞–º —Å–∫—Ä–∏–ø—Ç—ã `scale-up.sh` –∏ `scale-down.sh` –¥–ª—è –ª–µ–≥–∫–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ—â–Ω–æ—Å—Ç—è–º–∏.
